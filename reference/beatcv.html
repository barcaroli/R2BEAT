<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Computation of coefficient of variation (CV) for a given multivariate multiple allocation — beat.cv • R2BEAT</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Computation of coefficient of variation (CV) for a given multivariate multiple allocation — beat.cv"><meta property="og:description" content="Compute the coefficients of variation considering a given multivariate optimal allocation."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-156656860-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-156656860-1');
</script></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">R2BEAT</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/R2BEAT_methodology.html">R2BEAT methodology and use</a>
    </li>
    <li>
      <a href="../articles/R2BEAT_workflow.html">R2BEAT two-stage sampling design workflow starting from a previous survey</a>
    </li>
    <li>
      <a href="../articles/R2BEAT_workflow_from_frame.html">R2BEAT two-stage sampling design workflow starting from the sampling frame</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/barcaroli/R2BEAT/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Computation of coefficient of variation (CV) for a given multivariate multiple allocation</h1>
    
    <div class="hidden name"><code>beatcv.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compute the coefficients of variation considering a given multivariate optimal allocation.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">beat.cv</span><span class="op">(</span><span class="va">n_file</span>, <span class="va">stratif</span>, <span class="va">errors</span>, <span class="va">des_file</span>, <span class="va">psu_file</span>, <span class="va">rho</span>, <span class="va">epsilon</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>n_file</dt>
<dd><p>Data frame containing the sample size allocated in each stratum, for more details, e.g.,<a href="allocation.html">allocation</a>.</p></dd>

  <dt>stratif</dt>
<dd><p>Data frame of survey strata, for more details see, e.g.,<a href="strata.html">strata</a>.</p></dd>

 <dt>errors</dt>
<dd><p>Data frame of expected coefficients of variation (CV) for each domain, for more details see, e.g.,<a href="errors.html">errors</a>.</p></dd>

 <dt>des_file</dt>
<dd><p>Data frame containing information on sampling design variables, for more details see, e.g.,<a href="design.html">design</a>.</p></dd>

 <dt>psu_file</dt>
<dd><p>Data frame containing information on primary stage units stratification, for more details see, e.g.,<a href="PSU_strat.html">PSU_strat</a>.</p></dd>

 <dt>rho</dt>
<dd><p>Data frame of survey strata, for more details see, e.g.,<a href="rho.html">rho</a>.</p></dd>

 <dt>epsilon</dt>
<dd><p>The same as in function <a href="beth1.html">beat.1st</a>.</p></dd>

</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>This function enables to derive the expected coefficient of variation (CV) from a given allocation.
The function <code>beat.cv</code> returns the estimates expected accuracy in terms of coefficient of variation, for several variables in different domains, given a certain allocation among the different strata.</p>
    </div>
    <div id="value">
    <h2>Value</h2>
    

<p>Object of class <code>list</code>. The list contains a set of <code>data.frame</code>, as many of the cross product between domain and interest variables, containing total estimates, population, variance and expected coefficient of variation for every domain modality.
For each domain and each variable is defined</p>
<dl><dt>Tot1</dt>
<dd><p>Total estimate</p></dd>

<dt>N</dt>
<dd><p>Measure of size</p></dd>

<dt>Varfin</dt>
<dd><p>The sample variance of the total estimate</p></dd>

<dt>CV</dt>
<dd><p>The coefficient of variation of the</p></dd>

</dl></div>
    <div id="author">
    <h2>Author</h2>
    <p>Developed by Stefano Falorsi, Andrea Fasulo, Alessio Guandalini, Daniela Pagliuca, Marco D. Terribili.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Load example data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">beat.example</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Example 1</span></span></span>
<span class="r-in"><span><span class="co"># Calculate coefficients of variation, for two variables in two domains,</span></span></span>
<span class="r-in"><span><span class="co"># given an allocation among the different strata.</span></span></span>
<span class="r-in"><span><span class="va">allocation</span></span></span>
<span class="r-in"><span><span class="va">cv1</span><span class="op">&lt;-</span><span class="fu">beat.cv</span><span class="op">(</span> n_file<span class="op">=</span><span class="va">allocation</span>, stratif<span class="op">=</span><span class="va">strata</span>, errors<span class="op">=</span><span class="va">errors</span>,</span></span>
<span class="r-in"><span>des_file<span class="op">=</span><span class="va">design</span>, psu_file<span class="op">=</span><span class="va">PSU_strat</span>, rho<span class="op">=</span><span class="va">rho</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Example 2</span></span></span>
<span class="r-in"><span><span class="co"># Take the example 1 in beat.2st.</span></span></span>
<span class="r-in"><span><span class="va">allocation2st_1</span> <span class="op">&lt;-</span> <span class="fu"><a href="beth2.html">beat.2st</a></span><span class="op">(</span>stratif<span class="op">=</span><span class="va">strata</span>, errors<span class="op">=</span><span class="va">errors</span>,</span></span>
<span class="r-in"><span>des_file<span class="op">=</span><span class="va">design</span>, psu_file<span class="op">=</span><span class="va">PSU_strat</span>,rho<span class="op">=</span><span class="va">rho</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># The allocation obtained is </span></span></span>
<span class="r-in"><span><span class="va">allocation2st_1</span><span class="op">$</span><span class="va">alloc</span></span></span>
<span class="r-in"><span><span class="co"># with these precision constraints </span></span></span>
<span class="r-in"><span><span class="va">errors</span></span></span>
<span class="r-in"><span><span class="co"># and these expected coefficient of variation</span></span></span>
<span class="r-in"><span><span class="va">allocation2st_1</span><span class="op">$</span><span class="va">expected</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Now, fit the output of beat.2st to allocation, that is</span></span></span>
<span class="r-in"><span><span class="va">SIZE</span> <span class="op">&lt;-</span> <span class="va">allocation2st_1</span><span class="op">$</span><span class="va">alloc</span><span class="op">[</span><span class="op">-</span><span class="fl">18</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">]</span></span></span>
<span class="r-in"><span><span class="va">allocation1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">SIZE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co"># If apply beat.cv the same error in allocation2st_1$expected should be obtained.</span></span></span>
<span class="r-in"><span><span class="co"># In fact</span></span></span>
<span class="r-in"><span><span class="va">cv2</span><span class="op">&lt;-</span><span class="fu">beat.cv</span><span class="op">(</span> n_file<span class="op">=</span><span class="va">allocation1</span>, stratif<span class="op">=</span><span class="va">strata</span>, errors<span class="op">=</span><span class="va">errors</span>,</span></span>
<span class="r-in"><span>des_file<span class="op">=</span><span class="va">design</span>, psu_file<span class="op">=</span><span class="va">PSU_strat</span>, rho<span class="op">=</span><span class="va">rho</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cv2</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Please, note that some very slightly differences may occur.</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Andrea Fasulo, Giulio Barcaroli, Stefano Falorsi, Alessio Guandalini, Daniela Pagliuca, Marco Dionisio Terribili.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

